[platformio]
default_envs = nrf52840_scanner
# nRF52840 BLE Scanner Configuration
# Supports various nRF52840 boards

[env:nrf52840_scanner]
platform  = https://github.com/Seeed-Studio/platform-seeedboards.git
board = seeed-xiao-afruitnrf52-nrf52840
framework = arduino
monitor_speed = 115200

# Upload settings
upload_protocol = nrfutil
upload_speed = 115200

# Library dependencies
lib_deps = 
    adafruit/Adafruit nRFCrypto
   #  adafruit/Adafruit LittleFS
   #  adafruit/Adafruit Bluefruit nRF52 Libraries

# Build flags
build_flags = 
    -DCORE_DEBUG_LEVEL=0
    -DNRF52840_XXAA
    -DARDUINO_NRF52_ADAFRUIT

# LittleFS configuration (for filter files)
board_build.filesystem = littlefs

# Monitor filters
monitor_filters = 
    default
    time

# Data folder for filter files
data_dir = data

# ============================================================================
# Alternative nRF52840 Boards
# ============================================================================

[env:nrf52840_dongle]
extends = env:nrf52840_scanner
board = adafruit_itsybitsy_nrf52840

[env:nrf52840_sense]
extends = env:nrf52840_scanner
board = adafruit_clue_nrf52840

[env:nrf52840_mdk]
extends = env:nrf52840_scanner
board = nrf52840_mdk

[env:nrf52840_dk]
extends = env:nrf52840_scanner
board = nrf52840_dk
upload_protocol = jlink

# ============================================================================
# Debug Build
# ============================================================================

[env:nrf52840_debug]
extends = env:nrf52840_scanner
build_flags = 
    ${env:nrf52840_scanner.build_flags}
    -DCORE_DEBUG_LEVEL=4
    -DDEBUG_BLE=1
build_type = debug

# ============================================================================
# Notes
# ============================================================================
#
# Common nRF52840 Boards:
#   - Adafruit Feather nRF52840 Express
#   - Adafruit ItsyBitsy nRF52840 Express
#   - Adafruit CLUE nRF52840
#   - Nordic nRF52840 DK
#   - Nordic nRF52840 Dongle
#
# Upload Methods:
#   - nrfutil: Adafruit boards (default)
#   - jlink: Nordic DK boards
#   - dfu: Some dongles
#
# File Upload:
#   pio run -t uploadfs  # Upload filter files to LittleFS
#   pio run -t upload    # Upload program
#
